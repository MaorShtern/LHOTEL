{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport React, { useState, useEffect } from \"react\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      arrUsers = _useState2[0],\n      setArrUsers = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  useEffect(function () {\n    readData();\n  }, []);\n\n  var readData = function _callee() {\n    var value, new_Array;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@storage_Key_0'));\n\n          case 3:\n            value = _context.sent;\n\n            if (value !== null) {\n              new_Array = [value];\n              setArrUsers(JSON.parse(new_Array));\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            alert('Failed to fetch the input from storage');\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var saveUser = function _callee2(value) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@ConUser', JSON.stringify(value), function () {\n              Alert.alert(\"User Saved\");\n            }));\n\n          case 3:\n            _context2.next = 8;\n            break;\n\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            Alert.alert(_context2.t0);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var LogIn = function LogIn() {\n    if (email.length != 0 && password.length != 0) {\n      var find_user = arrUsers.filter(function (per) {\n        return per['email'] === email && per['password'] === password;\n      });\n      find_user = find_user[0];\n\n      if (find_user !== undefined) {\n        var full_name = \"Welcome:  \" + find_user.first_name + \" \" + find_user.last_name;\n        saveUser(full_name);\n        navigation.navigate('Homepage');\n      } else Alert.alert(\"No such user exists in the system\");\n    } else {\n      Alert.alert(\"The fields are not complete\");\n    }\n  };\n\n  var Delete = function Delete() {\n    setEmail('');\n    setPassword('');\n  };\n\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      style: styles.HeadLine,\n      children: \"Login\"\n    }), _jsxs(View, {\n      style: styles.label,\n      children: [_jsx(Text, {\n        style: styles.Text,\n        children: \"Email: \"\n      }), _jsx(TextInput, {\n        keyboardType: \"email-address\",\n        onChangeText: function onChangeText(email) {\n          return setEmail(email);\n        },\n        style: styles.TextInput\n      })]\n    }), _jsxs(View, {\n      style: styles.label,\n      children: [_jsx(Text, {\n        style: styles.Text,\n        children: \"Password: \"\n      }), _jsx(TextInput, {\n        onChangeText: function onChangeText(password) {\n          return setPassword(password);\n        },\n        secureTextEntry: true,\n        style: styles.TextInput\n      })]\n    }), _jsxs(View, {\n      style: styles.ButtonContainer,\n      children: [_jsx(Button, {\n        title: \"DELETE\",\n        onPress: Delete\n      }), _jsx(Button, {\n        title: \"SUBMIT\",\n        onPress: LogIn\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  HeadLine: {\n    fontSize: 40,\n    fontWeight: \"bold\",\n    paddingTop: 20,\n    alignItems: \"center\",\n    textAlign: \"center\",\n    justifyContent: \"center\",\n    textDecorationLine: 'underline'\n  },\n  label: {\n    padding: 20\n  },\n  TextInput: {\n    flexDirection: 'row',\n    borderColor: 'black',\n    borderRadius: 15,\n    borderWidth: 2,\n    height: 50,\n    padding: 10\n  },\n  Text: {\n    fontSize: 15,\n    fontWeight: \"bold\"\n  },\n  ButtonContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingLeft: 70,\n    paddingRight: 70,\n    paddingTop: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","AsyncStorage","Login","navigation","arrUsers","setArrUsers","email","setEmail","password","setPassword","readData","getItem","value","new_Array","JSON","parse","alert","saveUser","setItem","stringify","Alert","LogIn","length","find_user","filter","per","undefined","full_name","first_name","last_name","navigate","Delete","styles","HeadLine","label","Text","TextInput","ButtonContainer","StyleSheet","create","fontSize","fontWeight","paddingTop","alignItems","textAlign","justifyContent","textDecorationLine","padding","flexDirection","borderColor","borderRadius","borderWidth","height","paddingLeft","paddingRight"],"sources":["C:/Users/maor1/OneDrive/שולחן העבודה/LHOTELClientside - NEW/Pages/Login.jsx"],"sourcesContent":["import { View, Text, StyleSheet, TextInput, Button, Alert } from \"react-native\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage'\r\n\r\n\r\nexport default function Login({ navigation }) {\r\n\r\n  const [arrUsers, setArrUsers] = useState([])\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n\r\n  useEffect(() => { readData(); }, []);\r\n\r\n\r\n  const readData = async () => {\r\n    try {\r\n      const value = await AsyncStorage.getItem('@storage_Key_0');\r\n\r\n      if (value !== null) {\r\n        let new_Array = [value]\r\n        setArrUsers(JSON.parse(new_Array))\r\n      }\r\n    } catch (e) {\r\n      alert('Failed to fetch the input from storage');\r\n    }\r\n  };\r\n\r\n\r\n  const saveUser = async (value) => {\r\n    try {\r\n        // console.log(\"arrUsers: \" + JSON.stringify(new_Array));\r\n        await AsyncStorage.setItem('@ConUser', JSON.stringify(value), () => {\r\n            Alert.alert(\"User Saved\")\r\n            // navigation.navigate('Login')\r\n        });\r\n\r\n    }\r\n    catch (error) {\r\n        Alert.alert(error)\r\n    }\r\n}\r\n\r\n\r\n  const LogIn = () => {\r\n\r\n    if (email.length != 0 && password.length != 0) {\r\n\r\n      let find_user = arrUsers.filter((per) => per['email'] === email && per['password'] === password)\r\n      find_user = find_user[0]\r\n\r\n      if (find_user !== undefined) {\r\n        let full_name = \"Welcome:  \" + find_user.first_name + \" \" + find_user.last_name\r\n        saveUser(full_name)\r\n        navigation.navigate('Homepage')\r\n        // navigation.navigate('Homepage',  {full_name})\r\n      }\r\n      else\r\n        Alert.alert(\"No such user exists in the system\")\r\n    }\r\n    else {\r\n      Alert.alert(\"The fields are not complete\")\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const Delete = () => {\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  // const getData = async () => {\r\n  //   try {\r\n  //     const jsonValue = await AsyncStorage.getItem('@storage_Key_0')\r\n  //     return jsonValue != null ? JSON.parse(jsonValue) : null;\r\n  //   } catch (error) {\r\n  //     Alert.alert(error)\r\n  //   }\r\n  // }\r\n\r\n\r\n  // const LogIn = () => {\r\n  //   // if(email.length != 0 && password.length != 0)\r\n  //   // {\r\n  //   //   let array = getData()\r\n  //   //   console.log(\"array: \" +JSON.stringify(array));\r\n\r\n  //   //   let find_user = array.filter((per) => per.email === email && per.password === password)\r\n  //   //   console.log(\"find_user: \" + find_user);\r\n  //   //   if(find_user !== null)\r\n  //   //   {\r\n\r\n  //   //   }\r\n  //   // }\r\n  //   // else\r\n  //   // {\r\n  //   //   Alert.alert(\"The fields are not complete\")\r\n  //   // }\r\n  // }\r\n\r\n\r\n\r\n  return (\r\n    <View>\r\n      <Text style={styles.HeadLine}>Login</Text>\r\n      <View style={styles.label}>\r\n        <Text style={styles.Text}>Email: </Text>\r\n        <TextInput keyboardType='email-address' onChangeText={(email) => setEmail(email)} style={styles.TextInput}></TextInput>\r\n      </View>\r\n      <View style={styles.label}>\r\n        <Text style={styles.Text}>Password: </Text>\r\n        <TextInput onChangeText={(password) => setPassword(password)} secureTextEntry={true} style={styles.TextInput}></TextInput>\r\n      </View>\r\n\r\n      <View style={styles.ButtonContainer}>\r\n        <Button title=\"DELETE\" onPress={Delete}></Button>\r\n        <Button title=\"SUBMIT\" onPress={LogIn}></Button>\r\n      </View>\r\n\r\n\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  HeadLine: {\r\n    fontSize: 40,\r\n    fontWeight: \"bold\",\r\n    paddingTop: 20,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    textDecorationLine: 'underline'\r\n\r\n  },\r\n  label: {\r\n    padding: 20,\r\n  },\r\n  TextInput: {\r\n    flexDirection: 'row',\r\n    borderColor: 'black',\r\n    borderRadius: 15,\r\n    borderWidth: 2,\r\n    height: 50,\r\n    padding: 10\r\n  },\r\n  Text: {\r\n    fontSize: 15,\r\n    fontWeight: \"bold\",\r\n  },\r\n  ButtonContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    paddingLeft: 70,\r\n    paddingRight: 70,\r\n    paddingTop: 10\r\n  },\r\n\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}